<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Spring Session Tutorial - JDBC Configuration</title>
  <meta name="Description" content="This article will show you how to configure and use Spring Session to manage session data in your web application.">
  <link href="/css/fonts.css" rel="stylesheet">
  <link rel="stylesheet" href="/css/index.css">
  <link rel="stylesheet" href="/css/prism-base16-ateliersulphurpool.light.css">
  <link rel="alternate" href="/feed/feed.xml" type="application/atom+xml" title="Vladimir Stankovic - Software engineer">
  
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-28773758-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-28773758-1');
  </script>
</head>

<body>
  <header>
    <ul class="nav"><li class="nav-item"><a
          href="/">Home</a></li><li class="nav-item"><a
          href="/posts/">Articles</a></li><li class="nav-item"><a
          href="/art/">Art</a></li><li class="nav-item"><a
          href="/hire-me/">Have a project in mind? Let&#39;s talk!</a></li></ul>
  </header>
  <main class="tmpl-post" >
    <h1>Spring Session Tutorial - JDBC Configuration</h1>

<p>This article will show you how to configure and use <a href="https://projects.spring.io/spring-session/">Spring Session</a> to manage session data in your web application. Please checkout the code from the following <a href="https://github.com/svlada/springsession-jdbc">GitHub repository</a>.</p>
<h2 id="table-of-contents%3A">Table of contents: <a class="direct-link" href="#table-of-contents%3A">#</a></h2>
<ol>
<li><a title="Introduction: Spring Session" href="#introduction">Introduction</a></li>
<li><a title="Project setup using Maven" href="#project-setup">Project setup</a></li>
<li><a title="CURL" href="#curl">Curl</a></li>
</ol>
<h3 id="introduction"><a name="introduction" id="introduction">Introduction</a> <a class="direct-link" href="#introduction">#</a></h3>
<p>Before we go into the more details of <a href="https://projects.spring.io/spring-session/">Spring Session</a> configuration, I would like to provide my view on recent hype around Stateful vs Stateless session management.</p>
<p>Lately, a lot of people started using JSON Web Token (JWT) as an stateless mechanism for handling sessions. A couple years ago I event wrote an <a href="http://www.svlada.com/jwt-token-authentication-with-spring-boot/">article on that topic</a> and honestly didn't know that it will be abused by so many people. The main idea was to show how to override and extend various parts of Spring Security. I would strongly recommend not using JWT for handling sessions. Let's see what are the pro's and cons of stateless and stateful session management approaches.</p>
<h3 id="stateless-on-server-side">Stateless on server side <a class="direct-link" href="#stateless-on-server-side">#</a></h3>
<p><strong>Pros</strong></p>
<ol>
<li>No need to scale session data on server side as session is maintained through cryptographically signed JSON Web Token (JWT).</li>
</ol>
<p><strong>Cons</strong></p>
<ol>
<li>No way to provide <strong>log-out</strong> feature without introducing state on server side.</li>
<li>Potential token explosion as JSON Web Token becomes larger in size.</li>
<li>Sending JSON Web Token (JWT) payload on each request can be expensive.</li>
</ol>
<h3 id="stateful-on-server-side">Stateful on server side <a class="direct-link" href="#stateful-on-server-side">#</a></h3>
<p><strong>Pros</strong></p>
<ol>
<li>Ability to log-out user</li>
<li>Out-of-box sliding session</li>
</ol>
<p><strong>Cons</strong></p>
<ol>
<li>/</li>
</ol>
<p>In short, don't use JSON Web Token to manage session data for your web applications. The most of the web applications will be fine with storing session related data on Redis.</p>
<p>If you have microservices architecture, you can use API Gateway as an translation layer that would validate session id and create federated token to be used by the services. That's one use case where JSON Web Token fits nicely.</p>
<h3 id="project-setup"><a name="project-setup" id="project-setup">Project setup</a> <a class="direct-link" href="#project-setup">#</a></h3>
<p>Include <code>spring-session-core</code> and <code>spring-session-jdbc</code> in your <code>pom.xml</code> file.</p>
<p><strong>Maven dependencies</strong></p>
<pre class="language-java"><code class="language-java"><span class="highlight-line"><span class="token generics"><span class="token punctuation">&lt;</span>dependency<span class="token punctuation">></span></span></span><br><span class="highlight-line">  <span class="token generics"><span class="token punctuation">&lt;</span>groupId<span class="token punctuation">></span></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>session<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span></span><br><span class="highlight-line">  <span class="token generics"><span class="token punctuation">&lt;</span>artifactId<span class="token punctuation">></span></span>spring<span class="token operator">-</span>session<span class="token operator">-</span>jdbc<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span></span><br><span class="highlight-line"><span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span></span><br><span class="highlight-line"><span class="token generics"><span class="token punctuation">&lt;</span>dependency<span class="token punctuation">></span></span></span><br><span class="highlight-line">  <span class="token generics"><span class="token punctuation">&lt;</span>groupId<span class="token punctuation">></span></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>session<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span></span><br><span class="highlight-line">  <span class="token generics"><span class="token punctuation">&lt;</span>artifactId<span class="token punctuation">></span></span>spring<span class="token operator">-</span>session<span class="token operator">-</span>core<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span></span><br><span class="highlight-line"><span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span></span></code></pre>
<p><strong>Spring security configuration</strong></p>
<p>The following class shows how to configure REST API security with the Spring Session:</p>
<pre class="language-java"><code class="language-java"><span class="highlight-line"><span class="token annotation punctuation">@Configuration</span></span><br><span class="highlight-line"><span class="token annotation punctuation">@EnableWebSecurity</span></span><br><span class="highlight-line"><span class="token annotation punctuation">@EnableJdbcHttpSession</span></span><br><span class="highlight-line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WebSecurityConfig</span>  <span class="token keyword">extends</span> <span class="token class-name">WebSecurityConfigurerAdapter</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">RestAuthenticationEntryPoint</span> restAuthenticationEntryPoint<span class="token punctuation">;</span></span><br><span class="highlight-line">    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">AuthenticationProvider</span> provider<span class="token punctuation">;</span></span><br><span class="highlight-line"></span><br><span class="highlight-line">    <span class="token annotation punctuation">@Autowired</span></span><br><span class="highlight-line">    <span class="token keyword">public</span> <span class="token class-name">WebSecurityConfig</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">RestAuthenticationEntryPoint</span> restAuthenticationEntryPoint<span class="token punctuation">,</span></span><br><span class="highlight-line">        <span class="token keyword">final</span> <span class="token class-name">AuthenticationProvider</span> provider<span class="token punctuation">)</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">        <span class="token keyword">this</span><span class="token punctuation">.</span>restAuthenticationEntryPoint <span class="token operator">=</span> restAuthenticationEntryPoint<span class="token punctuation">;</span></span><br><span class="highlight-line">        <span class="token keyword">this</span><span class="token punctuation">.</span>provider <span class="token operator">=</span> provider<span class="token punctuation">;</span></span><br><span class="highlight-line">    <span class="token punctuation">}</span></span><br><span class="highlight-line"></span><br><span class="highlight-line">    <span class="token annotation punctuation">@Override</span></span><br><span class="highlight-line">    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">configure</span><span class="token punctuation">(</span><span class="token class-name">HttpSecurity</span> http<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">        http</span><br><span class="highlight-line">            <span class="token punctuation">.</span><span class="token function">csrf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">disable</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><br><span class="highlight-line">            <span class="token punctuation">.</span><span class="token function">exceptionHandling</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><br><span class="highlight-line">            <span class="token punctuation">.</span><span class="token function">authenticationEntryPoint</span><span class="token punctuation">(</span>restAuthenticationEntryPoint<span class="token punctuation">)</span></span><br><span class="highlight-line">            <span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><br><span class="highlight-line">                <span class="token punctuation">.</span><span class="token function">formLogin</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><br><span class="highlight-line">                <span class="token punctuation">.</span><span class="token function">successHandler</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">SessionAuthenticationSuccessHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span><br><span class="highlight-line">                <span class="token punctuation">.</span><span class="token function">failureHandler</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">SimpleUrlAuthenticationFailureHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span><br><span class="highlight-line">            <span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><br><span class="highlight-line">                <span class="token punctuation">.</span><span class="token function">logout</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><br><span class="highlight-line">                    <span class="token punctuation">.</span><span class="token function">defaultLogoutSuccessHandlerFor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">HttpStatusReturningLogoutSuccessHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span><br><span class="highlight-line">                        <span class="token keyword">new</span> <span class="token class-name">AntPathRequestMatcher</span><span class="token punctuation">(</span><span class="token string">"/logout"</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span><br><span class="highlight-line">            <span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><br><span class="highlight-line">                <span class="token punctuation">.</span><span class="token function">authorizeRequests</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><br><span class="highlight-line">                    <span class="token punctuation">.</span><span class="token function">antMatchers</span><span class="token punctuation">(</span><span class="token string">"/login"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">permitAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><br><span class="highlight-line">                    <span class="token punctuation">.</span><span class="token function">antMatchers</span><span class="token punctuation">(</span><span class="token string">"/h2/**"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">permitAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><br><span class="highlight-line">            <span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><br><span class="highlight-line">                <span class="token punctuation">.</span><span class="token function">authorizeRequests</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">antMatchers</span><span class="token punctuation">(</span><span class="token string">"/api/**"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hasAnyRole</span><span class="token punctuation">(</span><span class="token string">"ADMIN"</span><span class="token punctuation">)</span></span><br><span class="highlight-line">            <span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><br><span class="highlight-line">                <span class="token punctuation">.</span><span class="token function">requestCache</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><br><span class="highlight-line">                <span class="token punctuation">.</span><span class="token function">requestCache</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">NullRequestCache</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line">    <span class="token punctuation">}</span></span><br><span class="highlight-line"></span><br><span class="highlight-line">    <span class="token annotation punctuation">@Bean</span></span><br><span class="highlight-line">    <span class="token keyword">public</span> <span class="token class-name">HttpSessionIdResolver</span> <span class="token function">httpSessionIdResolver</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">HeaderHttpSessionIdResolver</span><span class="token punctuation">(</span><span class="token string">"X-Auth-Token"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line">    <span class="token punctuation">}</span></span><br><span class="highlight-line"></span><br><span class="highlight-line">    <span class="token annotation punctuation">@Override</span></span><br><span class="highlight-line">    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">configure</span><span class="token punctuation">(</span><span class="token class-name">AuthenticationManagerBuilder</span> auth<span class="token punctuation">)</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">        auth<span class="token punctuation">.</span><span class="token function">authenticationProvider</span><span class="token punctuation">(</span>provider<span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line">    <span class="token punctuation">}</span></span><br><span class="highlight-line"><span class="token punctuation">}</span></span></code></pre>
<p>The following list describes the WebSecurityConfig elements:</p>
<ol>
<li><strong>RestAuthenticationEntryPoint</strong> - The entry point implementation which returns 401 status, indicating that the request requires authentication.</li>
<li><strong>SessionAuthenticationSuccessHandler</strong> - Success authentication handler that returns 200 status on successuful authentication.</li>
<li><strong>HttpSessionIdResolver</strong> - Use <code>HeaderHttpSessionIdResolver</code> if you want to send authentication token through http headers. Please check the following <a href="https://github.com/spring-projects/spring-session/commit/6f05c84aa7c1f7c4efcf2c0d3c20709a79b0785f">git commit</a> regarding class name changes.</li>
<li><strong>@EnableJdbcHttpSession</strong> - This annotation is needed as it exposes <code>SessionRepositoryFilter</code> that will use database for storing session data.</li>
</ol>
<h3 id="curl-command"><a name="curl" id="curl">Curl command</a> <a class="direct-link" href="#curl-command">#</a></h3>
<h3 id="user-login">User login <a class="direct-link" href="#user-login">#</a></h3>
<p>Check for the <code>x-auth-token</code> in response and include it with the subsequent requests.</p>
<pre><code>curl -X POST \
  http://localhost:1999/login \
  -H 'cache-control: no-cache' \
  -H 'content-type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW' \
  -F username=test \
  -F password=test
</code></pre>
<h3 id="user-logout">User logout <a class="direct-link" href="#user-logout">#</a></h3>
<pre><code>curl -X GET \
  http://localhost:1999/logout \
  -H 'cache-control: no-cache' \
  -H 'x-auth-token: 2eabcc45-0bb5-40f7-8d48-8aec0fdf0bbc'
</code></pre>
<h3 id="access-to-protected-resource">Access to protected resource <a class="direct-link" href="#access-to-protected-resource">#</a></h3>
<p>This is an example on how to access protected resource by including access token in the headers:</p>
<pre><code>curl -X GET \
  http://localhost:1999/api/sample \
  -H 'cache-control: no-cache' \
  -H 'x-auth-token: 30ab6295-7b63-4172-9fb3-3514d5e46390'
</code></pre>
<h2 id="source-code">Source code <a class="direct-link" href="#source-code">#</a></h2>
<p><strong>Session Authentication Success Handler</strong></p>
<pre class="language-java"><code class="language-java"><span class="highlight-line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SessionAuthenticationSuccessHandler</span> <span class="token keyword">implements</span> <span class="token class-name">AuthenticationSuccessHandler</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">    <span class="token annotation punctuation">@Override</span></span><br><span class="highlight-line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onAuthenticationSuccess</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">,</span></span><br><span class="highlight-line">        <span class="token class-name">Authentication</span> authentication<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">,</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">        response<span class="token punctuation">.</span><span class="token function">setStatus</span><span class="token punctuation">(</span><span class="token class-name">HttpServletResponse</span><span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line">    <span class="token punctuation">}</span></span><br><span class="highlight-line"><span class="token punctuation">}</span></span></code></pre>
<p><strong>RestAuthenticationEntryPoint</strong></p>
<pre class="language-java"><code class="language-java"><span class="highlight-line"><span class="token annotation punctuation">@Component</span></span><br><span class="highlight-line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RestAuthenticationEntryPoint</span> <span class="token keyword">implements</span> <span class="token class-name">AuthenticationEntryPoint</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">    <span class="token annotation punctuation">@Override</span></span><br><span class="highlight-line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">commence</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> httpServletRequest<span class="token punctuation">,</span></span><br><span class="highlight-line">        <span class="token class-name">HttpServletResponse</span> httpServletResponse<span class="token punctuation">,</span> <span class="token class-name">AuthenticationException</span> e<span class="token punctuation">)</span></span><br><span class="highlight-line">        <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">,</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{</span></span><br><span class="highlight-line"></span><br><span class="highlight-line">        httpServletResponse<span class="token punctuation">.</span><span class="token function">sendError</span><span class="token punctuation">(</span><span class="token class-name">HttpServletResponse</span><span class="token punctuation">.</span>SC_UNAUTHORIZED<span class="token punctuation">,</span> <span class="token string">"Unauthorized"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line">    <span class="token punctuation">}</span></span><br><span class="highlight-line"><span class="token punctuation">}</span></span></code></pre>
<p><strong>AuthenticationProviderConfig</strong></p>
<pre class="language-java"><code class="language-java"><span class="highlight-line"><span class="token annotation punctuation">@Configuration</span></span><br><span class="highlight-line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AuthenticationProviderConfig</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">PasswordEncoder</span> passwordEncoder<span class="token punctuation">;</span></span><br><span class="highlight-line">    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">UserDetailsService</span> userDetailsService<span class="token punctuation">;</span></span><br><span class="highlight-line"></span><br><span class="highlight-line">    <span class="token keyword">public</span> <span class="token class-name">AuthenticationProviderConfig</span><span class="token punctuation">(</span><span class="token class-name">PasswordEncoder</span> passwordEncoder<span class="token punctuation">,</span></span><br><span class="highlight-line">        <span class="token annotation punctuation">@Qualifier</span><span class="token punctuation">(</span><span class="token string">"databaseUserDetailsService"</span><span class="token punctuation">)</span> <span class="token class-name">UserDetailsService</span> userDetailsService<span class="token punctuation">)</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">        <span class="token keyword">this</span><span class="token punctuation">.</span>passwordEncoder <span class="token operator">=</span> passwordEncoder<span class="token punctuation">;</span></span><br><span class="highlight-line">        <span class="token keyword">this</span><span class="token punctuation">.</span>userDetailsService <span class="token operator">=</span> userDetailsService<span class="token punctuation">;</span></span><br><span class="highlight-line">    <span class="token punctuation">}</span></span><br><span class="highlight-line"></span><br><span class="highlight-line">    <span class="token annotation punctuation">@Bean</span></span><br><span class="highlight-line">    <span class="token keyword">public</span> <span class="token class-name">AuthenticationProvider</span> <span class="token function">databaseAuthenticationProvider</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">        <span class="token class-name">DaoAuthenticationProvider</span> daoAuthenticationProvider <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DaoAuthenticationProvider</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line">        daoAuthenticationProvider<span class="token punctuation">.</span><span class="token function">setUserDetailsService</span><span class="token punctuation">(</span>userDetailsService<span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line">        daoAuthenticationProvider<span class="token punctuation">.</span><span class="token function">setPasswordEncoder</span><span class="token punctuation">(</span>passwordEncoder<span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line">        <span class="token keyword">return</span> daoAuthenticationProvider<span class="token punctuation">;</span></span><br><span class="highlight-line">    <span class="token punctuation">}</span></span><br><span class="highlight-line"><span class="token punctuation">}</span></span></code></pre>
<p><strong>Password encoder configuration</strong></p>
<pre class="language-java"><code class="language-java"><span class="highlight-line"><span class="token annotation punctuation">@Configuration</span></span><br><span class="highlight-line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PasswordEncoderConfig</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">    <span class="token annotation punctuation">@Bean</span></span><br><span class="highlight-line">    <span class="token keyword">protected</span> <span class="token class-name">PasswordEncoder</span> <span class="token function">passwordEncoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">BCryptPasswordEncoder</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line">    <span class="token punctuation">}</span></span><br><span class="highlight-line"><span class="token punctuation">}</span></span></code></pre>


<p><a href="/">← Home</a></p>

<div id="disqus_thread"></div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://svlada.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

    </main>
    <footer></footer>
    <!-- Current page: /spring-session-tutorial/ -->
</body>
</html>